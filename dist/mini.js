(()=>{"use strict";var e,t,o,n,a={},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return a[e](o,o.exports,r),o.exports}r.m=a,r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,o)=>(r.f[o](e,t),t)),[])),r.u=e=>e+".mini.js",r.miniCssF=e=>e+".mini.css",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="todo-list:",r.l=(o,n,a,i)=>{if(e[o])e[o].push(n);else{var s,d;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(d=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[n];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),d&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),o=e=>new Promise(((t,o)=>{var n=r.miniCssF(e),a=r.p+n;if(((e,t)=>{for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var a=(r=o[n]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var r;if((a=(r=i[n]).getAttribute("data-href"))===e||a===t)return r}})(n,a))return t();((e,t,o,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=i=>{if(a.onerror=a.onload=null,"load"===i.type)o();else{var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=r,d.request=s,a.parentNode.removeChild(a),n(d)}},a.href=t,document.head.appendChild(a)})(e,a,t,o)})),n={179:0},r.f.miniCss=(e,t)=>{n[e]?t.push(n[e]):0!==n[e]&&{632:1}[e]&&t.push(n[e]=o(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))},(()=>{var e={179:0};r.f.j=(t,o)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise(((o,a)=>n=e[t]=[o,a]));o.push(n[2]=a);var i=r.p+r.u(t),s=new Error;r.l(i,(o=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,o)=>{var n,a,[i,s,d]=o,l=0;if(i.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);d&&d(r)}for(t&&t(o);l<i.length;l++)a=i[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunktodo_list=self.webpackChunktodo_list||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();const s=["DDMMYYYY","YYYYMMDD","YYMMDD","DDMMMYY","DMMMMYYYY","DDMMYY","YYMMMDD","YYYYMMMDD","DDMMMYYYY","DDMMMMYYYY"],d=["MDYYYY","MDYY","MMDDYY","MMDDYYYY","MMMMDYYYY","MMMDDYYYY","MMMDDYY"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=[1,3,5,7,8,10,12],u=[4,6,9,11];function p(e,t=new Date){let o,n,a;/^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/i.test(t)||/^([0-2][0-9]|(3)[0-1])(.)(((0)[0-9])|((1)[0-2]))(.)\d{4}$/i.test(t)||/^([0-2][0-9]|(3)[0-1])(,)(((0)[0-9])|((1)[0-2]))(,)\d{4}$/i.test(t)||/^([0-2][0-9]|(3)[0-1])(-)(((0)[0-9])|((1)[0-2]))(-)\d{4}$/i.test(t)?t.includes("/")?t=t.split("/").reverse().join("-"):t.includes(",")?t=t.split(",").reverse().join("-"):t.includes(".")?t=t.split(".").reverse().join("-"):t.includes("-")?t=t.split("-").reverse().join("-"):t.includes(" ")&&(t=t.split(" ").reverse().join("-")):t.includes("/")?t=t.split("/").join("-"):t.includes(",")?t=t.split(",").join("-"):t.includes(".")?t=t.split(".").join("-"):t.includes("-")?t=t.split("-").join("-"):t.includes(" ")&&(t=t.split(" ").join("-"));let i,r,l,c="",u="",p="",h="",m="",g="",f=e.split("").map((e=>e.toUpperCase()));for(let e=0;e<f.length;e++)"D"===f[e]?(i=e,c+=f[e]):"M"===f[e]?(r=e,u+=f[e]):"Y"===f[e]&&(l=e,p+=f[e]);e=f.filter((e=>"/"!==e&&"."!==e&&","!==e&&"-"!==e&&" "!==e)).join("").toUpperCase();const y=s.length,b=d.length;for(let t=0;t<y;t++)e===s[t]&&(a=f.indexOf("M"));for(let t=0;t<b;t++)e===d[t]&&(a=f.indexOf("D"));const x=f.slice(a);f=f.splice(0,a),o=f.filter((e=>"/"===e||"."===e||","===e||"-"===e||" "===e)).join(""),n=x.filter((e=>" "===e||"-"===e||"/"===e||","===e||"."===e)).join("");const v=new Date(t),S=v.getFullYear(),T=S.toString().slice(2),k=v.getMonth()+1,D=k.toString().padStart(2,0),Y=v.getDate(),M=Y.toString().padStart(2,0),E=v.toLocaleDateString("en-US",{month:"short"}),N=v.toLocaleDateString("en-US",{month:"long"});return"D"===c?h=Y:"DD"===c&&(h=M),"M"===u?m=k:"MM"===u?m=D:"MMM"===u?m=E:"MMMM"===u&&(m=N),"YY"===p?g=T:"YYYY"===p&&(g=S),i<r&&i<l?`${h}${o}${m}${n}${g}`:i>r&&i>l?`${g}${o}${m}${n}${h}`:r<i&&r<l?`${m}${o}${h}${n}${g}`:void 0}function h(){const e=new Date,t=e.getMinutes(),o=e.getHours(),n=e.getDate(),a=e.getMonth()+1,i=e.getFullYear(),r=e.getSeconds(),s=e=>e.toString().padStart(2,"0");return`${s(i)}-${s(a)}-${n}T${s(o)}:${s(t)}:${s(r)}`}function m(e=new Date){const t=new Date(e),o=t.getDate(),n=t.getMonth()+1;return{year:t.getFullYear(),month:n,day:o}}function g(e,t){const o=new Date(p("YYYY-MM-DD",e)).getTime(),n=(new Date(p("YYYY-MM-DD",t)).getTime()-o)/1e3;return Math.ceil(n/86400)}function f(e){const{day:t,month:o,year:n}=m(p("YYYY-MM-DD",e)),{day:a,month:i,year:r}=m();let s,d,f;s=n-r,o>=i?d=o-i:(d=12+o-i,s-=1),f=t-a,t-a<0&&o==i?(s-=1,d+=11,c.forEach((e=>{o==e?f+=31:2==o&&(f+=28)})),u.forEach((e=>{o==e&&(f+=30)}))):t-a>=0?f=t-a:(c.forEach((e=>{i==e?(f+=31,d<=0?(d+=11,s-=1):d-=1):2==i&&(f+=28,d-=1)})),u.forEach((e=>{i==e&&(f+=30,d-=1)})));const y=g(h(),`${n}-${o}-${t}`),b=-1==y?"Yesterday":0==y?"":1==y?"Tomorrow":y<=6?`${y} day`:7==y?`Next ${function(e=new Date){const t=new Date(e).getDay();return l[t]}()}`:`${s<=0?"":`${s} year`} ${d<=0?"":`${d} month`} ${f<=0?"":`${f} day`}`;return{totalDays:y,text:b}}r.e(632).then(r.bind(r,632));const y=document.querySelector("app"),b=y.querySelector("add-note"),x=y.querySelector(".input-note"),v=y.querySelector(".btn-add"),S=y.querySelector("list-pin"),T=y.querySelector("list-note"),k=y.querySelector("#indicator1"),D=y.querySelector("#indicator2"),Y=document.querySelector("overlay"),M=Y.querySelector("header"),E=Y.querySelector(".icon-pin"),N=Y.querySelector("content"),q=Y.querySelector("deadline"),w=Y.querySelector("time-create"),L=Y.querySelector(".input-deadline"),$=Y.querySelector(".input-color"),C=Y.querySelector("tab"),A=Y.querySelector(".btn-cancel"),O=Y.querySelector(".btn-submit-color"),I=Y.querySelector(".icon-copy"),P=Y.querySelector(".icon-recycle-bin"),j=Y.querySelector("close"),F=document.querySelector(".item-drag"),U="TODO-LIST",H={onEdit:!1,dataTodos:[],_data:[],listNoteUnpin:[],listNotePin:[],itemMove:[],toIndex:0,fromIndex:0,topUnpin:0,topPin:0,heightNote:0,itemOffsetY:0,mouseDownPageY:0,get data(){return this._data},set data(e){this._data=e,this.sortData(),this.render(),this.handleEvents(),this.localSet()},localSet:function(){localStorage.setItem(U,JSON.stringify(H.dataTodos))},localGet:function(){const e=localStorage.getItem(U);return e?JSON.parse(e):[]},inputValueLength:function(){return x.value.length},sortData:function(){const e=H.dataTodos.filter((e=>1==e.pin)),t=H.dataTodos.filter((e=>0==e.pin));H.dataTodos=e.concat(t)},sortDataDeadline:function(){let e=m();e=[e.day.toString().padStart(2,0),e.month.toString().padStart(2,0),e.year];const t=e.reverse().toString().replace(/,/g,"-");let o=[],n=[];H.dataTodos.forEach((e=>{const a=e.deadline.split("-").reverse();""==e.deadline||a.join("-")>=t?n.push(e):o.push(e)}));const a=o.sort((function(e,t){const o=e.deadline.split("-").reverse().join("-"),n=t.deadline.split("-").reverse().join("-");return o<n?-1:o>n?1:0}));H.dataTodos=[...a,...n],H.data=[...H.dataTodos]},render:function(){const e=this.dataTodos.filter((e=>e.pin)),t=e.length,o=this.dataTodos.slice(t).map((e=>`   \n                <li style="border-color: ${e.color};" class="item-note ${2==e.status?"strikethrough":""}" data-index="${e.id}" >\n                    <up-down draggable="true">\n                        <i class="icon-drag fa-solid fa-grip-vertical"></i>\n                    </up-down>\n                    <input class="checkbox-hide" type="checkbox" ${2==e.status?"checked":""}>\n                    <span style="border-color: ${e.color};" class="checkbox-complete"></span>\n                    <span ${g(h(),e.date)<0?'style="color:red;"':""} class="item-text">${e.text}</span>\n                    <button class="btn-delete">x</button>\n                    <i class="icon-save"></i>\n                    <i id="icon-details" class="fa-solid fa-expand"></i>\n                    <div class="indicator-drag"></div>\n                </li>\n                    `)).join("");if(t>0){S.classList.remove("hide");const t=e.map((e=>`\n                    <li style="border-color: ${e.color};" class="item-note ${2==e.status?"strikethrough":""}" data-index="${e.id}" >\n                        <up-down draggable="true">\n                            <i class="icon-drag fa-solid fa-grip-vertical"></i>\n                        </up-down>\n                        <input class="checkbox-hide" type="checkbox" ${2==e.status?"checked":""}>\n                        <span style="border-color: ${e.color};" class="checkbox-complete"></span>\n                        <span  ${g(h(),e.date)<0?'style="color:red;"':""} class="item-text">${e.text}</span>\n                        <button class="btn-delete">x</button>\n                        <i class="icon-save"></i>\n                        <i id="icon-details" class="fa-solid fa-expand"></i>\n                        <div class="indicator-drag"></div>\n                    </li>\n                        `)).join("");S.innerHTML=`\n                <h3 class="title-pin">List Pin Note</h3>\n            ${t}\n            `}else S.classList.add("hide");T.innerHTML=o},renderDetails:function(e){const t=e.target.parentNode.dataset.index,o=H.dataTodos.find((e=>e.id===t)),n=`\n                <li class="item-note bla ${2==o.status?"strikethrough2":""}" data-index="${t}" >\n                    <input class="checkbox-hide" type="checkbox" onclick="appOOP.strikethroughItem(appOOP)" ${2==o.status?"checked":""}>\n                    <span style="border-color: ${o.color};" class="checkbox-complete"></span>\n                    <span contenteditable="true" ${g(h(),o.date)<0?'style="color:red;"':""} class="item-text">${o.text}</span>\n                    <i class="show icon-save" id="icon-save-inner" onclick="appOOP.submitText(appOOP)"></i>\n                </li>\n                `;w.innerText=o.date,q.innerText=""==o.deadline?"":f(o.deadline).text,N.innerHTML=n},createNote:function(){const e=`${Date.now()}`;let t,o,n,a,i,r,s,d,l,c;t=document.createElement("li"),c=document.createElement("div"),s=document.createElement("i"),o=document.createElement("span"),n=document.createElement("input"),a=document.createElement("span"),i=document.createElement("button"),r=document.createElement("i"),d=document.createElement("up-down"),l=document.createElement("i"),l.setAttribute("class","icon-drag fa-solid fa-grip-vertical"),d.appendChild(l),t.className="item-note",c.className="indicator-drag",s.className="fa-solid fa-expand",o.className="item-text",i.className="btn-delete",n.className="checkbox-hide",a.className="checkbox-complete",r.className="icon-save",t.setAttribute("draggable","true"),n.setAttribute("type","checkbox"),t.setAttribute("data-index",e),s.setAttribute("id","icon-details"),o.innerText=x.value,i.appendChild(document.createTextNode("x")),t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(c),t.appendChild(d),t.appendChild(o),t.appendChild(i),t.appendChild(r),T.appendChild(t),x.value="",d.ontouchstart=e=>H.todo=H.getElmWhenMouseDown(e),d.ontouchmove=e=>{e.preventDefault(),H.useDisplayIndicator(e,"MOBILE")},d.ontouchend=e=>H.dropElm(e),t.ondragstart=e=>H.todo=H.getElmWhenMouseDown(e),t.ondragenter=e=>H.useDisplayIndicator(e,"PC"),t.ondragend=e=>H.dropElm(e),i.onclick=H.deleteTodo,n.onclick=e=>H.strikethroughItem(e.target),r.onclick=e=>H.updateText(e.target),r.onclick=H.clickIconTick,o.onclick=H.clickItem,s.onclick=H.clickIconFull,H.addTodo(e,o.innerText)},statusOnEdit:function(e){e?(H.onEdit=!0,x.setAttribute("disabled",!0),v.setAttribute("disabled",!0)):(H.onEdit=!1,x.removeAttribute("disabled"),v.removeAttribute("disabled"))},addTodo:function(e,t){H.dataTodos.push({id:e,text:t,date:h(),pin:!1,deadline:"",color:"var(--app-color-1)",status:1}),H.localSet()},submitText:function(e){const t=e.parentNode.querySelector(".item-text"),o=t.textContent,n=e.parentNode.dataset.index;if(o.trim().length<1)return alert("Không được để note trống"),setTimeout((()=>{t.click()}),100);H.statusOnEdit(!1),H.updateTodo(n,"text",o),H.data=[...H.dataTodos]},updateTodo:function(e,t,o){H.dataTodos=H.dataTodos.map((n=>n.id!==e?n:{...n,[t]:o}))},deleteTodo:function(e){if(H.onEdit)return;const t=e.target.parentNode,o=t.dataset.index;t.parentNode.removeChild(t),1===S.children.length?S.classList.add("hide"):S.classList.remove("hide"),H.dataTodos=H.dataTodos.filter((e=>e.id!==o)),H.localSet()},strikethroughItem:function(e){e.hasAttribute("checked")?(e.parentNode.classList.remove("strikethrough"),e.removeAttribute("checked")):(e.parentNode.classList.add("strikethrough"),e.setAttribute("checked","")),H.todoStatus(e),H.localSet()},todoStatus:function(e){const t=e.parentNode.dataset.index;e.parentNode.querySelector(".checkbox-hide").hasAttribute("checked")?H.updateTodo(t,"status",2):H.updateTodo(t,"status",1),H.submitText(e),H.localSet()},focusNote:function(e){const t=e.target.parentNode.querySelector(".btn-delete"),o=e.target.parentNode.querySelector(".icon-save"),n=e.target.parentNode.dataset.index;H.onEdit||(Array.from(T.children).forEach((e=>{const t=e.querySelector(".btn-delete"),o=e.querySelector(".checkbox-complete"),a=e.dataset.index,i=e.querySelector("#icon-details"),r=e.querySelector("up-down");a!==n&&(o.classList.add("lock-checkbox"),t.classList.add("hide"),i.classList.add("hide"),r.classList.add("hide"))})),H.statusOnEdit(!0),e.target.setAttribute("contenteditable",!0),setTimeout((()=>{e.target.focus()}),50),e.target.parentNode.classList.add("focus-item"),t.classList.add("hide"),o.classList.add("show"))},clickIconSave:function(e){const t=e.target.parentNode,o=e.target.parentNode.dataset.index,n=t.querySelector(".btn-delete"),a=t.querySelector(".item-text"),i=t.querySelector(".icon-save");a.removeAttribute("contenteditable"),t.classList.remove("focus-item"),n.classList.remove("hide"),H.submitText(e.target),i.classList.remove("show"),Array.from(T.children).forEach((e=>{const t=e.querySelector(".btn-delete"),n=e.querySelector(".checkbox-complete"),a=e.querySelector("#icon-details");e.dataset.index!==o&&(n.classList.remove("lock-checkbox"),t.classList.remove("hide"),a.classList.remove("hide"))})),H.onEdit=!1},showDetails:function(e){const t=e.target.parentNode.dataset.index;H.dataTodos.forEach((e=>{e.id==t&&(M.style.background=`linear-gradient(to bottom, ${e.color},  white`,1==e.pin?E.classList.add("pin-item"):E.classList.remove("pin-item"))})),Y.classList.remove("hide"),H.submitText(e.target),H.renderDetails(e)},getElmWhenMouseDown:function(e){const t=e.target.closest(".item-note"),o=t.querySelector(".item-text").textContent,n=t.dataset.index,a=H.dataTodos.find((e=>e.id===n)),i=document.querySelector(".item-drag"),r=i.querySelector(".text-drag"),s=i.querySelector(".checkbox-hide"),d=i.querySelector(".checkbox-complete");y.querySelectorAll(".item-note").forEach((e=>{e.dataset.index==n&&(i.style.borderColor=a.color,d.style.borderColor=a.color)})),r.innerText=o,2==a.status?(i.classList.add("strikethrough"),s.setAttribute("checked","")):(i.classList.remove("strikethrough"),s.removeAttribute("checked")),H.fromIndex=H.dataTodos.indexOf(a),F.classList.remove("hide"),H.mouseDownPageY=e.pageY||e.targetTouches[0].pageY,t.classList.add("blur");const l=Array.from(S.children).at(-1),c=Array.from(T.children)[0];return T.childElementCount>0&&(H.topUnpin=c.getBoundingClientRect().y-t.offsetHeight+5),H.heightNote=t.offsetHeight,H.topPin=l.getBoundingClientRect().y+5,a},displayIndicator:function(e,t,o){const n=e.target.closest(".item-note"),a=y.querySelector(".title-pin");H.listNotePin=Array.from(S.children),H.listNotePin.shift(),H.listNoteUnpin=Array.from(T.children);const i=H.listNotePin.concat(H.listNoteUnpin),r=b.offsetHeight+Number(getComputedStyle(b).marginTop.replace("px","")),s=S.offsetHeight+Number(getComputedStyle(S).marginTop.replace("px",""))+Number(getComputedStyle(S).marginBottom.replace("px","")),d=a.offsetHeight+Number(getComputedStyle(a).marginTop.replace("px",""))+Number(getComputedStyle(a).marginBottom.replace("px","")),l="PC"==o?e.pageY:e.targetTouches[0].pageY,c="PC"==o?e.pageX:e.targetTouches[0].pageX;"hide"===S.className?k.style.top=r+5:k.style.top=r+s-5,i.forEach((o=>{try{const e=i[t],n=i[t-1];l<H.mouseDownPageY?(o.classList.remove("ondrag"),k.style.display="none",o==n&&t!==S.childElementCount-1?o.classList.add("ondrag"):t==S.childElementCount-1?k.style.display="block":0==t&&"hide"!==S.className&&(k.style.display="block",k.style.top=r+d-5)):(o.classList.remove("ondrag"),k.style.display="none",o==e&&o.classList.add("ondrag"))}catch{}H.fromIndex<H.listNotePin.length&&t===H.listNotePin.length&&e.offsetY<H.heightNote/2?(o.classList.remove("ondrag"),D.style.display="block",D.style.top=H.topUnpin+window.scrollY):n===H.listNotePin.at(-1)&&t===H.listNotePin.length-1&&e.offsetY>H.heightNote/2?(o.classList.remove("ondrag"),D.style.display="block",D.style.top=H.topPin+window.scrollY,k.style.display="none"):D.style.display="none"})),H.itemMove=n,H.itemOffsetY=e.offsetY,F.style.top=l,F.style.left=c},dropElm:function(e){const t=e.target.closest(".item-note"),o=t.dataset.index;let n;F.classList.add("hide"),t.classList.add("blur"),k.style.display="none",D.style.display="none",H.toIndex<S.childElementCount-1?H.dataTodos=H.dataTodos.map((e=>e.id!==o?e:{...e,pin:!0})):H.dataTodos=H.dataTodos.map((e=>e.id!==o?e:{...e,pin:!1})),n=H.fromIndex>H.listNotePin.length-1&&H.itemMove===H.listNotePin.at(-1)&&H.itemOffsetY>H.heightNote/2?H.fromIndex+1:H.fromIndex<=H.listNotePin.length&&H.itemMove===H.listNoteUnpin.at(0)&&H.itemOffsetY<H.heightNote/2?H.toIndex-1:H.toIndex,-1===n&&(n=0),function(e,t,o){const n=e.at(t);e.splice(t,1),e.splice(o,0,n)}(H.dataTodos,H.fromIndex,n),H.data=[...H.dataTodos]},useDisplayIndicator:function(e,t){if("PC"===t){const t=e.target.closest(".item-note").dataset.index,o=H.dataTodos.find((e=>e.id===t)),n=H.dataTodos.indexOf(o);H.displayIndicator(e,n,"PC"),H.toIndex=H.dataTodos.indexOf(o)}else{const t=document.elementFromPoint(e.targetTouches[0].pageX,e.targetTouches[0].pageY).closest(".item-note").dataset.index,o=H.dataTodos.find((e=>e.id===t)),n=H.dataTodos.indexOf(o);H.displayIndicator(e,n,"MOBILE"),H.toIndex=H.dataTodos.indexOf(o)}},handleEvents:function(){v.onclick=()=>{const e=function(){const{userAgent:e}=navigator,t=e.toUpperCase();let o="Other";-1!=t.indexOf("WIN")?o="Windows":-1!=t.indexOf("MAC")?o="Mac":-1!=t.indexOf("ANDROID")?o="Android":-1!=t.indexOf("LIKE MAC")?o="iOS":-1!=t.indexOf("LINUX")&&(o="Linux");let n="Other";return t.includes("FIREFOX/")?n="Firefox":t.includes("EDG/")?n="Edg":t.includes("CHROME/")?n="Chrome":t.includes("SAFARI/")&&(n="Safari"),{os:o,browser:n}}().os;H.inputValueLength()>0&&H.createNote(),"Linux"!==e&&"Android"!==e&&"iOS"!==e||y.querySelectorAll("up-down").forEach((e=>{e.innerHTML='<i class="icon-up-down fa-solid fa-grip-vertical"></i>'}))},x.onkeypress=function(e){H.inputValueLength()>0&&13===e.charCode&&H.createNote()},j.onclick=()=>{Y.classList.add("hide")},P.onclick=e=>{const t=e.target.closest("advanced-edit").querySelector(".item-note").dataset.index;H.dataTodos=H.dataTodos.filter((e=>e.id!==t)),H.localSet(),Y.classList.add("hide"),Array.from(T.children).forEach((e=>{e.dataset.index===t&&e.remove()}))},E.onclick=e=>{const t=e.target.closest("advanced-edit").querySelector(".item-note").dataset.index;E.classList.toggle("pin-item"),H.dataTodos=H.dataTodos.map((e=>e.id!==t?e:{...e,pin:!e.pin})),H.sortDataDeadline(),H.data=[...H.dataTodos]},I.onclick=e=>{const t=e.target.closest("advanced-edit").querySelector(".item-note").dataset.index;let o=H.dataTodos.find((e=>e.id===t));const n=o.id;o={...o,id:`${Date.now()}`,date:h()},H.dataTodos.push(o),Y.classList.add("hide"),H.data=[...H.dataTodos],Array.from(T.children).forEach((e=>{const t=e.querySelector(".item-text");n==e.dataset.index&&t.click()})),H.sortData()},$.onclick=e=>{e.stopPropagation(),C.classList.add("show")},A.onclick=()=>{C.classList.remove("show")},O.onclick=e=>{const t=e.target.closest("advanced-edit").querySelector(".item-note").dataset.index;H.updateTodo(t,"color",$.value),y.querySelectorAll(".item-note").forEach((e=>{e.dataset.index==t&&(e.querySelector(".checkbox-complete").style.borderColor=$.value,e.style.borderColor=$.value)})),M.style.background=`linear-gradient(to bottom, ${$.value}, white`,C.classList.remove("show"),H.localSet()},L.onchange=e=>{const t=e.target.closest("advanced-edit"),o=t.querySelector(".item-text"),n=t.querySelector(".item-note").dataset.index,{totalDays:a,text:i}=f(L.value);q.innerText=i,H.updateTodo(n,"deadline",L.value),g(h(),L.value)<0?(o.style.color="red",Array.from(T.children).forEach((e=>{e.dataset.index==n&&(e.querySelector(".item-text").style.color="red")}))):(o.style.color="var(--color-black-1)",Array.from(T.children).forEach((e=>{e.dataset.index==n&&(e.querySelector(".item-text").style.color="var(--color-white-1)")}))),a<0&&H.sortDataDeadline(),H.sortData(),H.localSet()},Y.onclick=()=>{C.classList.remove("show")},y.querySelectorAll(".item-note").forEach((e=>{e.ondragstart=e=>H.getElmWhenMouseDown(e),e.ondragenter=e=>H.useDisplayIndicator(e,"PC"),e.ondragend=e=>H.dropElm(e)})),y.querySelectorAll("up-down").forEach((e=>{e.ontouchstart=e=>{H.getElmWhenMouseDown(e)},e.ontouchmove=e=>{e.preventDefault(),H.useDisplayIndicator(e,"MOBILE")},e.ontouchend=e=>H.dropElm(e)})),y.querySelectorAll(".btn-delete").forEach((e=>{e.onclick=e=>H.deleteTodo(e)})),y.querySelectorAll(".checkbox-hide").forEach((e=>{e.onclick=e=>H.strikethroughItem(e.target)})),y.querySelectorAll(".item-text").forEach((e=>{e.onclick=e=>H.focusNote(e)})),y.querySelectorAll(".icon-save").forEach((e=>{e.onclick=e=>H.clickIconSave(e)})),y.querySelectorAll("#icon-details").forEach((e=>{e.onclick=e=>H.showDetails(e)}))},start(){this.dataTodos=this.localGet(),setTimeout((()=>{this.render(),this.handleEvents()}),1e3)}};H.start()})();